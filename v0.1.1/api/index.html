<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · RANSAC.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">RANSAC.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../example/">Example</a></li><li><a class="tocitem" href="../ransac/">Efficient RANSAC</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Representing-a-point-cloud-1"><span>Representing a point cloud</span></a></li><li><a class="tocitem" href="#Parameters-1"><span>Parameters</span></a></li><li><a class="tocitem" href="#Primitives-1"><span>Primitives</span></a></li><li><a class="tocitem" href="#Iteration-1"><span>Iteration</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/cserteGT3/RANSAC.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-API-1"><a class="docs-heading-anchor" href="#Public-API-1">Public API</a><a class="docs-heading-anchor-permalink" href="#Public-API-1" title="Permalink"></a></h1><p>Note, that not all exported functions are considered as part of the public API. The private API is not mature yet, expect it to change.</p><h2 id="Representing-a-point-cloud-1"><a class="docs-heading-anchor" href="#Representing-a-point-cloud-1">Representing a point cloud</a><a class="docs-heading-anchor-permalink" href="#Representing-a-point-cloud-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RANSAC.PointCloud" href="#RANSAC.PointCloud"><code>RANSAC.PointCloud</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct PointCloud{A&lt;:AbstractArray, B&lt;:AbstractArray, C&lt;:AbstractArray}</code></pre><p>A struct to wrap a point cloud. Stores the vertices, the normals,     the subsets (as an array of arrays of vertice indexes),     an array to indicate if a point is part of an already extracted primitive,     the size of the point cloud (number of vertices),     the weight of each octree level (populated during the construction of the octree, by copying the given element),     an array to store the sum of the score of already extracted primitives for each octree level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/octree.jl#L15-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.PointCloud-Tuple{Any,Any,Any}" href="#RANSAC.PointCloud-Tuple{Any,Any,Any}"><code>RANSAC.PointCloud</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">PointCloud(vertices, normals, subsets)</code></pre><p>Construct a <code>PointCloud</code>, filling it&#39;s other fields.</p><p><code>size=length(vertices)</code>, <code>levelweight=[1.0]</code>, <code>levelscore=[1.0]</code>, <code>isenabled=trues(length(vertices))</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/octree.jl#L72-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.PointCloud-NTuple{4,Any}" href="#RANSAC.PointCloud-NTuple{4,Any}"><code>RANSAC.PointCloud</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">PointCloud(vertices, normals, subsets, isenabled)</code></pre><p>Construct a <code>PointCloud</code> with filling it&#39;s <code>size</code>, <code>isenabled</code> and <code>levelweight</code> fields.</p><p><code>size=length(vertices)</code>, <code>levelweight=[1.0]</code>, <code>levelscore=[1.0]</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/octree.jl#L61-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.PointCloud-NTuple{7,Any}" href="#RANSAC.PointCloud-NTuple{7,Any}"><code>RANSAC.PointCloud</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">PointCloud(vertices, normals, subsets, isenabled, size, levelweight, levelscore)</code></pre><p>Constructor that converts vertices and normals to array of <code>SVector{3,Float64}</code>.</p><p><strong>Arguments</strong></p><ul><li><code>vertices::AbstractArray</code>: an array of vertices.</li><li><code>normals::AbstractArray</code>: an array of surface normals.</li><li><code>subsets::AbstractArray</code>: an array consisting of index-arrays, that describe which point is in which subset.</li><li><code>isenabled::BitArray{1}</code>: an array indicating if the given point is enabled (<code>true</code>) or already has been extracted (<code>false</code>).</li><li><code>size::Int</code>: number of points in the cloud.</li><li><code>levelweight::Vector{Float}</code>: the weight of every octree level.</li><li><code>levelscore::Vector{Float}</code>: for every octree level, store the sum of the scores of primitives that have been extracted.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/octree.jl#L41-L54">source</a></section></article><h2 id="Parameters-1"><a class="docs-heading-anchor" href="#Parameters-1">Parameters</a><a class="docs-heading-anchor-permalink" href="#Parameters-1" title="Permalink"></a></h2><p>With the help of <a href="https://github.com/mauro3/Parameters.jl">Parameters.jl</a> it&#39;s easy to parameterize the algorithm. The <code>RANSACParameters</code> type collects all the parameters, though its fields are subject to change, the current fields and default values are listed below.</p><pre><code class="language-julia">@with_kw struct RANSACParameters{R&lt;:Real} @deftype R
    ϵ_plane = 0.3
    α_plane = deg2rad(5)

    ϵ_sphere = 0.3
    α_sphere = deg2rad(5)

    ϵ_cylinder = 0.3
    α_cylinder = deg2rad(5)

    ϵ_cone = 0.3
    α_cone = deg2rad(5)
    # filter those cones, whose opening angle is less than `minconeopang` radians
    minconeopang = deg2rad(2)

    ϵ_torus = 0.3
    α_torus = deg2rad(5)

    # number of points to be sampled (length of a minimal subset)
    drawN::Int = 3; @assert drawN&gt;2
    # number of minimal sets sampled in one iteration
    minsubsetN::Int = 15; @assert minsubsetN&gt;0
    # probability of detection
    prob_det = 0.9
    # minimal shape size
    τ::Int = 900
    # maximum number of iteration
    itermax::Int = 1000
    # if the number of enabled points fall under `leftover`,
    # the iteration terminates
    leftovers::Int = 1

    # threshold of two vectors being parallel (in degrees)
    parallelthrdeg = 1
    # threshold of points being collinear
    collin_threshold = 0.2
    # parameter in sphere fitting
    sphere_par = 0.02

    # shapes that are fitted to the point cloud
    shape_types::Array{Symbol,1} = [:sphere, :plane, :cylinder, :cone]
end</code></pre><p>You can use the following functions to set every <span>$\alpha$</span> or <span>$\epsilon$</span> parameters to a certain value:</p><article class="docstring"><header><a class="docstring-binding" id="RANSAC.setalphas" href="#RANSAC.setalphas"><code>RANSAC.setalphas</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">setalphas(p::RANSACParameters, α)</code></pre><p>Set all <code>α_*</code> fields to <code>α</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/utilities.jl#L361-L365">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.setepsilons" href="#RANSAC.setepsilons"><code>RANSAC.setepsilons</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">setepsilons(p::RANSACParameters, ϵ)</code></pre><p>Set all <code>ϵ_*</code> fields to <code>ϵ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/utilities.jl#L352-L356">source</a></section></article><h2 id="Primitives-1"><a class="docs-heading-anchor" href="#Primitives-1">Primitives</a><a class="docs-heading-anchor-permalink" href="#Primitives-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RANSAC.FittedShape" href="#RANSAC.FittedShape"><code>RANSAC.FittedShape</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An abstract type that supertypes all the fitted shapes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/fitting.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.FittedPlane" href="#RANSAC.FittedPlane"><code>RANSAC.FittedPlane</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct FittedPlane{A&lt;:AbstractArray} &lt;: FittedShape</code></pre><p>Plane primitive, defined by one of its point, and its normalvector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/shapes/plane.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.FittedSphere" href="#RANSAC.FittedSphere"><code>RANSAC.FittedSphere</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct FittedSphere{A&lt;:AbstractArray, R&lt;:Real} &lt;: FittedShape</code></pre><p>Sphere primitive, defined by its center and radius. Also stored, if the normals point outwards of the shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/shapes/sphere.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.FittedCylinder" href="#RANSAC.FittedCylinder"><code>RANSAC.FittedCylinder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct FittedCylinder{A&lt;:AbstractArray, R&lt;:Real} &lt;: FittedShape</code></pre><p>Cylinder primitive, defined by its axis direction, a point that lies on its axis, and its radius. Also stored, if the normals point outwards of the shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/shapes/cylinder.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RANSAC.FittedCone" href="#RANSAC.FittedCone"><code>RANSAC.FittedCone</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct FittedCone{A&lt;:AbstractArray, R&lt;:Real} &lt;: FittedShape</code></pre><p>Cone primitive, defined by its apex, its axis (that points from the apex towards the opening), and its opening angle in radians. Also stored, if the normals point outwards of the shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/shapes/cone.jl#L3-L10">source</a></section></article><h2 id="Iteration-1"><a class="docs-heading-anchor" href="#Iteration-1">Iteration</a><a class="docs-heading-anchor-permalink" href="#Iteration-1" title="Permalink"></a></h2><p>The <code>ransac()</code> function does the iteration.</p><article class="docstring"><header><a class="docstring-binding" id="RANSAC.ransac" href="#RANSAC.ransac"><code>RANSAC.ransac</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ransac(pc, params, setenabled; reset_rand = false)</code></pre><p>Run the RANSAC algorithm on a pointcloud with the given parameters.</p><p>Returns the candidates (as they are at the end of the iteration), the extracted primitives and the time it took to run the algorithm (in seconds).</p><p><strong>Arguments</strong></p><ul><li><code>pc::PointCloud</code>: the point cloud.</li><li><code>params::RANSACParameters</code>: parameters.</li><li><code>setenabled::Bool</code>: if <code>true</code>: set every point to enabled.</li><li><code>reset_rand::Bool=false</code>: if <code>true</code>, resets the random seed with <code>Random.seed!(1234)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/iterations.jl#L1-L15">source</a></section><section><div><pre><code class="language-none">ransac(pc, params; reset_rand = false)</code></pre><p>Run the RANSAC algorithm on a pointcloud with the given parameters.</p><p>Returns the candidates (as they are at the end of the iteration), the extracted primitives and the time it took to run the algorithm (in seconds).</p><p><strong>Arguments</strong></p><ul><li><code>pc::PointCloud</code>: the point cloud.</li><li><code>params::RANSACParameters</code>: parameters.</li><li><code>reset_rand::Bool=false</code>: if <code>true</code>, resets the random seed with <code>Random.seed!(1234)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cserteGT3/RANSAC.jl/blob/5a06ce60331c0a8a4465b3b46072696f07f029fc/src/iterations.jl#L23-L36">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ransac/">« Efficient RANSAC</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 10 March 2020 21:49">Tuesday 10 March 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
